{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || Object.assign || function (t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n  }\n  return t;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar os = require(\"os\");\nvar url = require(\"url\");\nvar progress_event_1 = require(\"./progress-event\");\nvar errors_1 = require(\"./errors\");\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nvar xml_http_request_upload_1 = require(\"./xml-http-request-upload\");\nvar Cookie = require(\"cookiejar\");\nvar XMLHttpRequest = /** @class */function (_super) {\n  __extends(XMLHttpRequest, _super);\n  function XMLHttpRequest(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var _this = _super.call(this) || this;\n    _this.UNSENT = XMLHttpRequest.UNSENT;\n    _this.OPENED = XMLHttpRequest.OPENED;\n    _this.HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED;\n    _this.LOADING = XMLHttpRequest.LOADING;\n    _this.DONE = XMLHttpRequest.DONE;\n    _this.onreadystatechange = null;\n    _this.readyState = XMLHttpRequest.UNSENT;\n    _this.response = null;\n    _this.responseText = '';\n    _this.responseType = '';\n    _this.status = 0; // TODO: UNSENT?\n    _this.statusText = '';\n    _this.timeout = 0;\n    _this.upload = new xml_http_request_upload_1.XMLHttpRequestUpload();\n    _this.responseUrl = '';\n    _this.withCredentials = false;\n    _this._method = null;\n    _this._url = null;\n    _this._sync = false;\n    _this._headers = {};\n    _this._loweredHeaders = {};\n    _this._mimeOverride = null; // TODO: is type right?\n    _this._request = null;\n    _this._response = null;\n    _this._responseParts = null;\n    _this._responseHeaders = null;\n    _this._aborting = null; // TODO: type?\n    _this._error = null; // TODO: type?\n    _this._loadedBytes = 0;\n    _this._totalBytes = 0;\n    _this._lengthComputable = false;\n    _this._restrictedMethods = {\n      CONNECT: true,\n      TRACE: true,\n      TRACK: true\n    };\n    _this._restrictedHeaders = {\n      'accept-charset': true,\n      'accept-encoding': true,\n      'access-control-request-headers': true,\n      'access-control-request-method': true,\n      connection: true,\n      'content-length': true,\n      cookie: true,\n      cookie2: true,\n      date: true,\n      dnt: true,\n      expect: true,\n      host: true,\n      'keep-alive': true,\n      origin: true,\n      referer: true,\n      te: true,\n      trailer: true,\n      'transfer-encoding': true,\n      upgrade: true,\n      'user-agent': true,\n      via: true\n    };\n    _this._privateHeaders = {\n      'set-cookie': true,\n      'set-cookie2': true\n    };\n    _this._userAgent = \"Mozilla/5.0 (\" + os.type() + \" \" + os.arch() + \") node.js/\" + process.versions.node + \" v8/\" + process.versions.v8;\n    _this._anonymous = options.anon || false;\n    return _this;\n  }\n  XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n    if (async === void 0) {\n      async = true;\n    }\n    method = method.toUpperCase();\n    if (this._restrictedMethods[method]) {\n      throw new XMLHttpRequest.SecurityError(\"HTTP method \" + method + \" is not allowed in XHR\");\n    }\n    ;\n    var xhrUrl = this._parseUrl(url, user, password);\n    if (this.readyState === XMLHttpRequest.HEADERS_RECEIVED || this.readyState === XMLHttpRequest.LOADING) {\n      // TODO(pwnall): terminate abort(), terminate send()\n    }\n    this._method = method;\n    this._url = xhrUrl;\n    this._sync = !async;\n    this._headers = {};\n    this._loweredHeaders = {};\n    this._mimeOverride = null;\n    this._setReadyState(XMLHttpRequest.OPENED);\n    this._request = null;\n    this._response = null;\n    this.status = 0;\n    this.statusText = '';\n    this._responseParts = [];\n    this._responseHeaders = null;\n    this._loadedBytes = 0;\n    this._totalBytes = 0;\n    this._lengthComputable = false;\n  };\n  XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n    }\n    var loweredName = name.toLowerCase();\n    if (this._restrictedHeaders[loweredName] || /^sec-/.test(loweredName) || /^proxy-/.test(loweredName)) {\n      console.warn(\"Refused to set unsafe header \\\"\" + name + \"\\\"\");\n      return;\n    }\n    value = value.toString();\n    if (this._loweredHeaders[loweredName] != null) {\n      name = this._loweredHeaders[loweredName];\n      this._headers[name] = this._headers[name] + \", \" + value;\n    } else {\n      this._loweredHeaders[loweredName] = name;\n      this._headers[name] = value;\n    }\n  };\n  XMLHttpRequest.prototype.send = function (data) {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n    }\n    if (this._request) {\n      throw new XMLHttpRequest.InvalidStateError('send() already called');\n    }\n    switch (this._url.protocol) {\n      case 'file:':\n        return this._sendFile(data);\n      case 'http:':\n      case 'https:':\n        return this._sendHttp(data);\n      default:\n        throw new XMLHttpRequest.NetworkError(\"Unsupported protocol \" + this._url.protocol);\n    }\n  };\n  XMLHttpRequest.prototype.abort = function () {\n    if (this._request == null) {\n      return;\n    }\n    this._request.abort();\n    this._setError();\n    this._dispatchProgress('abort');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype.getResponseHeader = function (name) {\n    if (this._responseHeaders == null || name == null) {\n      return null;\n    }\n    var loweredName = name.toLowerCase();\n    return this._responseHeaders.hasOwnProperty(loweredName) ? this._responseHeaders[name.toLowerCase()] : null;\n  };\n  XMLHttpRequest.prototype.getAllResponseHeaders = function () {\n    var _this = this;\n    if (this._responseHeaders == null) {\n      return '';\n    }\n    return Object.keys(this._responseHeaders).map(function (key) {\n      return key + \": \" + _this._responseHeaders[key];\n    }).join('\\r\\n');\n  };\n  XMLHttpRequest.prototype.overrideMimeType = function (mimeType) {\n    if (this.readyState === XMLHttpRequest.LOADING || this.readyState === XMLHttpRequest.DONE) {\n      throw new XMLHttpRequest.InvalidStateError('overrideMimeType() not allowed in LOADING or DONE');\n    }\n    this._mimeOverride = mimeType.toLowerCase();\n  };\n  XMLHttpRequest.prototype.nodejsSet = function (options) {\n    this.nodejsHttpAgent = options.httpAgent || this.nodejsHttpAgent;\n    this.nodejsHttpsAgent = options.httpsAgent || this.nodejsHttpsAgent;\n    if (options.hasOwnProperty('baseUrl')) {\n      if (options.baseUrl != null) {\n        var parsedUrl = url.parse(options.baseUrl, false, true);\n        if (!parsedUrl.protocol) {\n          throw new XMLHttpRequest.SyntaxError(\"baseUrl must be an absolute URL\");\n        }\n      }\n      this.nodejsBaseUrl = options.baseUrl;\n    }\n  };\n  XMLHttpRequest.nodejsSet = function (options) {\n    XMLHttpRequest.prototype.nodejsSet(options);\n  };\n  XMLHttpRequest.prototype._setReadyState = function (readyState) {\n    this.readyState = readyState;\n    this.dispatchEvent(new progress_event_1.ProgressEvent('readystatechange'));\n  };\n  XMLHttpRequest.prototype._sendFile = function (data) {\n    // TODO\n    throw new Error('Protocol file: not implemented');\n  };\n  XMLHttpRequest.prototype._sendHttp = function (data) {\n    if (this._sync) {\n      throw new Error('Synchronous XHR processing not implemented');\n    }\n    if (data && (this._method === 'GET' || this._method === 'HEAD')) {\n      console.warn(\"Discarding entity body for \" + this._method + \" requests\");\n      data = null;\n    } else {\n      data = data || '';\n    }\n    this.upload._setData(data);\n    this._finalizeHeaders();\n    this._sendHxxpRequest();\n  };\n  XMLHttpRequest.prototype._sendHxxpRequest = function () {\n    var _this = this;\n    if (this.withCredentials) {\n      var cookie = XMLHttpRequest.cookieJar.getCookies(Cookie.CookieAccessInfo(this._url.hostname, this._url.pathname, this._url.protocol === 'https:')).toValueString();\n      this._headers.cookie = this._headers.cookie2 = cookie;\n    }\n    var _a = this._url.protocol === 'http:' ? [http, this.nodejsHttpAgent] : [https, this.nodejsHttpsAgent],\n      hxxp = _a[0],\n      agent = _a[1];\n    var requestMethod = hxxp.request.bind(hxxp);\n    var request = requestMethod({\n      hostname: this._url.hostname,\n      port: +this._url.port,\n      path: this._url.path,\n      auth: this._url.auth,\n      method: this._method,\n      headers: this._headers,\n      agent: agent\n    });\n    this._request = request;\n    if (this.timeout) {\n      request.setTimeout(this.timeout, function () {\n        return _this._onHttpTimeout(request);\n      });\n    }\n    request.on('response', function (response) {\n      return _this._onHttpResponse(request, response);\n    });\n    request.on('error', function (error) {\n      return _this._onHttpRequestError(request, error);\n    });\n    this.upload._startUpload(request);\n    if (this._request === request) {\n      this._dispatchProgress('loadstart');\n    }\n  };\n  XMLHttpRequest.prototype._finalizeHeaders = function () {\n    this._headers = __assign({}, this._headers, {\n      Connection: 'keep-alive',\n      Host: this._url.host,\n      'User-Agent': this._userAgent\n    }, this._anonymous ? {\n      Referer: 'about:blank'\n    } : {});\n    this.upload._finalizeHeaders(this._headers, this._loweredHeaders);\n  };\n  XMLHttpRequest.prototype._onHttpResponse = function (request, response) {\n    var _this = this;\n    if (this._request !== request) {\n      return;\n    }\n    if (this.withCredentials && (response.headers['set-cookie'] || response.headers['set-cookie2'])) {\n      XMLHttpRequest.cookieJar.setCookies(response.headers['set-cookie'] || response.headers['set-cookie2']);\n    }\n    if ([301, 302, 303, 307, 308].indexOf(response.statusCode) >= 0) {\n      this._url = this._parseUrl(response.headers.location);\n      this._method = 'GET';\n      if (this._loweredHeaders['content-type']) {\n        delete this._headers[this._loweredHeaders['content-type']];\n        delete this._loweredHeaders['content-type'];\n      }\n      if (this._headers['Content-Type'] != null) {\n        delete this._headers['Content-Type'];\n      }\n      delete this._headers['Content-Length'];\n      this.upload._reset();\n      this._finalizeHeaders();\n      this._sendHxxpRequest();\n      return;\n    }\n    this._response = response;\n    this._response.on('data', function (data) {\n      return _this._onHttpResponseData(response, data);\n    });\n    this._response.on('end', function () {\n      return _this._onHttpResponseEnd(response);\n    });\n    this._response.on('close', function () {\n      return _this._onHttpResponseClose(response);\n    });\n    this.responseUrl = this._url.href.split('#')[0];\n    this.status = response.statusCode;\n    this.statusText = http.STATUS_CODES[this.status];\n    this._parseResponseHeaders(response);\n    var lengthString = this._responseHeaders['content-length'] || '';\n    this._totalBytes = +lengthString;\n    this._lengthComputable = !!lengthString;\n    this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED);\n  };\n  XMLHttpRequest.prototype._onHttpResponseData = function (response, data) {\n    if (this._response !== response) {\n      return;\n    }\n    this._responseParts.push(new Buffer(data));\n    this._loadedBytes += data.length;\n    if (this.readyState !== XMLHttpRequest.LOADING) {\n      this._setReadyState(XMLHttpRequest.LOADING);\n    }\n    this._dispatchProgress('progress');\n  };\n  XMLHttpRequest.prototype._onHttpResponseEnd = function (response) {\n    if (this._response !== response) {\n      return;\n    }\n    this._parseResponse();\n    this._request = null;\n    this._response = null;\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('load');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._onHttpResponseClose = function (response) {\n    if (this._response !== response) {\n      return;\n    }\n    var request = this._request;\n    this._setError();\n    request.abort();\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('error');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._onHttpTimeout = function (request) {\n    if (this._request !== request) {\n      return;\n    }\n    this._setError();\n    request.abort();\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('timeout');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._onHttpRequestError = function (request, error) {\n    if (this._request !== request) {\n      return;\n    }\n    this._setError();\n    request.abort();\n    this._setReadyState(XMLHttpRequest.DONE);\n    this._dispatchProgress('error');\n    this._dispatchProgress('loadend');\n  };\n  XMLHttpRequest.prototype._dispatchProgress = function (eventType) {\n    var event = new XMLHttpRequest.ProgressEvent(eventType);\n    event.lengthComputable = this._lengthComputable;\n    event.loaded = this._loadedBytes;\n    event.total = this._totalBytes;\n    this.dispatchEvent(event);\n  };\n  XMLHttpRequest.prototype._setError = function () {\n    this._request = null;\n    this._response = null;\n    this._responseHeaders = null;\n    this._responseParts = null;\n  };\n  XMLHttpRequest.prototype._parseUrl = function (urlString, user, password) {\n    var absoluteUrl = this.nodejsBaseUrl == null ? urlString : url.resolve(this.nodejsBaseUrl, urlString);\n    var xhrUrl = url.parse(absoluteUrl, false, true);\n    xhrUrl.hash = null;\n    var _a = (xhrUrl.auth || '').split(':'),\n      xhrUser = _a[0],\n      xhrPassword = _a[1];\n    if (xhrUser || xhrPassword || user || password) {\n      xhrUrl.auth = (user || xhrUser || '') + \":\" + (password || xhrPassword || '');\n    }\n    return xhrUrl;\n  };\n  XMLHttpRequest.prototype._parseResponseHeaders = function (response) {\n    this._responseHeaders = {};\n    for (var name_1 in response.headers) {\n      var loweredName = name_1.toLowerCase();\n      if (this._privateHeaders[loweredName]) {\n        continue;\n      }\n      this._responseHeaders[loweredName] = response.headers[name_1];\n    }\n    if (this._mimeOverride != null) {\n      this._responseHeaders['content-type'] = this._mimeOverride;\n    }\n  };\n  XMLHttpRequest.prototype._parseResponse = function () {\n    var buffer = Buffer.concat(this._responseParts);\n    this._responseParts = null;\n    switch (this.responseType) {\n      case 'json':\n        this.responseText = null;\n        try {\n          this.response = JSON.parse(buffer.toString('utf-8'));\n        } catch (_a) {\n          this.response = null;\n        }\n        return;\n      case 'buffer':\n        this.responseText = null;\n        this.response = buffer;\n        return;\n      case 'arraybuffer':\n        this.responseText = null;\n        var arrayBuffer = new ArrayBuffer(buffer.length);\n        var view = new Uint8Array(arrayBuffer);\n        for (var i = 0; i < buffer.length; i++) {\n          view[i] = buffer[i];\n        }\n        this.response = arrayBuffer;\n        return;\n      case 'text':\n      default:\n        try {\n          this.responseText = buffer.toString(this._parseResponseEncoding());\n        } catch (_b) {\n          this.responseText = buffer.toString('binary');\n        }\n        this.response = this.responseText;\n    }\n  };\n  XMLHttpRequest.prototype._parseResponseEncoding = function () {\n    return /;\\s*charset=(.*)$/.exec(this._responseHeaders['content-type'] || '')[1] || 'utf-8';\n  };\n  XMLHttpRequest.ProgressEvent = progress_event_1.ProgressEvent;\n  XMLHttpRequest.InvalidStateError = errors_1.InvalidStateError;\n  XMLHttpRequest.NetworkError = errors_1.NetworkError;\n  XMLHttpRequest.SecurityError = errors_1.SecurityError;\n  XMLHttpRequest.SyntaxError = errors_1.SyntaxError;\n  XMLHttpRequest.XMLHttpRequestUpload = xml_http_request_upload_1.XMLHttpRequestUpload;\n  XMLHttpRequest.UNSENT = 0;\n  XMLHttpRequest.OPENED = 1;\n  XMLHttpRequest.HEADERS_RECEIVED = 2;\n  XMLHttpRequest.LOADING = 3;\n  XMLHttpRequest.DONE = 4;\n  XMLHttpRequest.cookieJar = Cookie.CookieJar();\n  return XMLHttpRequest;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget);\nexports.XMLHttpRequest = XMLHttpRequest;\nXMLHttpRequest.prototype.nodejsHttpAgent = http.globalAgent;\nXMLHttpRequest.prototype.nodejsHttpsAgent = https.globalAgent;\nXMLHttpRequest.prototype.nodejsBaseUrl = null;","map":{"version":3,"names":["http","require","https","os","url","progress_event_1","errors_1","xml_http_request_event_target_1","xml_http_request_upload_1","Cookie","XMLHttpRequest","_super","__extends","options","_this","call","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","onreadystatechange","readyState","response","responseText","responseType","status","statusText","timeout","upload","XMLHttpRequestUpload","responseUrl","withCredentials","_method","_url","_sync","_headers","_loweredHeaders","_mimeOverride","_request","_response","_responseParts","_responseHeaders","_aborting","_error","_loadedBytes","_totalBytes","_lengthComputable","_restrictedMethods","CONNECT","TRACE","TRACK","_restrictedHeaders","connection","cookie","cookie2","date","dnt","expect","host","origin","referer","te","trailer","upgrade","via","_privateHeaders","_userAgent","type","arch","process","versions","node","v8","_anonymous","anon","prototype","open","method","async","user","password","toUpperCase","SecurityError","xhrUrl","_parseUrl","_setReadyState","setRequestHeader","name","value","InvalidStateError","loweredName","toLowerCase","test","console","warn","toString","send","data","protocol","_sendFile","_sendHttp","NetworkError","abort","_setError","_dispatchProgress","getResponseHeader","hasOwnProperty","getAllResponseHeaders","Object","keys","map","key","join","overrideMimeType","mimeType","nodejsSet","nodejsHttpAgent","httpAgent","nodejsHttpsAgent","httpsAgent","baseUrl","parsedUrl","parse","SyntaxError","nodejsBaseUrl","dispatchEvent","ProgressEvent","Error","_setData","_finalizeHeaders","_sendHxxpRequest","cookieJar","getCookies","CookieAccessInfo","hostname","pathname","toValueString","_a","hxxp","agent","requestMethod","request","bind","port","path","auth","headers","setTimeout","_onHttpTimeout","on","_onHttpResponse","error","_onHttpRequestError","_startUpload","__assign","Connection","Host","Referer","setCookies","indexOf","statusCode","location","_reset","_onHttpResponseData","_onHttpResponseEnd","_onHttpResponseClose","href","split","STATUS_CODES","_parseResponseHeaders","lengthString","push","Buffer","length","_parseResponse","eventType","event","lengthComputable","loaded","total","urlString","absoluteUrl","resolve","hash","xhrUser","xhrPassword","name_1","buffer","concat","JSON","arrayBuffer","ArrayBuffer","view","Uint8Array","i","_parseResponseEncoding","_b","exec","CookieJar","XMLHttpRequestEventTarget","exports","globalAgent"],"sources":["../xml-http-request.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script"}